package team.dovecotmc.metropolis.mixins;

import com.google.gson.JsonObject;
import fabric.cn.zbx1425.mtrsteamloco.CustomResources;
import fabric.cn.zbx1425.mtrsteamloco.render.integration.DynamicTrainModelLoader;
import mtr.client.DynamicTrainModel;
import net.minecraft.resource.ResourceManager;
import org.spongepowered.asm.mixin.Mixin;
import org.spongepowered.asm.mixin.injection.At;
import org.spongepowered.asm.mixin.injection.Inject;
import org.spongepowered.asm.mixin.injection.callback.CallbackInfo;

/**
 * @author Arrokoth
 * @project Metropolis
 * @copyright Copyright Â© 2024 Arrokoth All Rights Reserved.
 */

@Mixin(DynamicTrainModelLoader.class)
public class CustomResourcesMixin {
    @Inject(at = @At(value = "RETURN"), method = "loadObjInto", remap = false)
    private static void loadObjIntoHead(JsonObject model, DynamicTrainModel target, CallbackInfo ci) {
        System.out.println("1145141919810");
        System.out.println(target.properties);
        System.out.println(model);
        // {"transport_mode":"TRAIN","length":24,"width":2,"door_max":10,"parts":[{"name":"$NTEPart:NONE:MOVING_BACKWARDS:1:%1:false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"MOVING_BACKWARDS","positions":[[0,0]],"whitelisted_cars":"1","blacklisted_cars":"%1"},{"name":"$NTEPart:RIGHT_NEGATIVE:ALL:::false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"RIGHT_NEGATIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"$NTEPart:NONE:ALL:::false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"$NTEPart:NONE:MOVING_FORWARDS:-1:%1:false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"MOVING_FORWARDS","positions":[[0,0]],"whitelisted_cars":"-1","blacklisted_cars":"%1"},{"name":"$NTEPart:NONE:MOVING_FORWARDS:1:%1:false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"MOVING_FORWARDS","positions":[[0,0]],"whitelisted_cars":"1","blacklisted_cars":"%1"},{"name":"$NTEPart:NONE:ALL::1:false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":"1"},{"name":"$NTEPart:LEFT_NEGATIVE:ALL:::false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"LEFT_NEGATIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"$NTEPart:NONE:MOVING_BACKWARDS:-1:%1:false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"MOVING_BACKWARDS","positions":[[0,0]],"whitelisted_cars":"-1","blacklisted_cars":"%1"},{"name":"$NTEPart:NONE:ALL:1:%1:false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"1","blacklisted_cars":"%1"},{"name":"$NTEPart:NONE:ALL::-1:false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":"-1"},{"name":"$NTEPart:NONE:ALL:-1:%1:false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"-1","blacklisted_cars":"%1"},{"name":"$NTEPart:RIGHT_POSITIVE:ALL:::false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"RIGHT_POSITIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"$NTEPart:LEFT_POSITIVE:ALL:::false","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"LEFT_POSITIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""}]}
        // {"transport_mode":"TRAIN","length":24,"width":2,"door_max":10,"parts":[{"name":"window","stage":"INTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"window_exterior","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"end","stage":"INTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":"-1"},{"name":"end_exterior","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":"-1"},{"name":"end","stage":"INTERIOR","mirror":true,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":"1"},{"name":"end_exterior","stage":"EXTERIOR","mirror":true,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":"1"},{"name":"door_left_positive_exterior","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"LEFT_POSITIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"door_left_positive","stage":"INTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"LEFT_POSITIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"door_left_negative_exterior","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"LEFT_NEGATIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"door_left_negative","stage":"INTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"LEFT_NEGATIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"door_right_positive","stage":"INTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"RIGHT_POSITIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"door_right_positive_exterior","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"RIGHT_POSITIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"door_right_negative","stage":"INTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"RIGHT_NEGATIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"door_right_negative_exterior","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"RIGHT_NEGATIVE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"head","stage":"INTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"1","blacklisted_cars":"%1"},{"name":"head_exterior","stage":"EXTERIOR","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"1","blacklisted_cars":"%1"},{"name":"head","stage":"INTERIOR","mirror":true,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"-1","blacklisted_cars":"%1"},{"name":"head_exterior","stage":"EXTERIOR","mirror":true,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"-1","blacklisted_cars":"%1"},{"name":"window_light","stage":"ALWAYS_ON_LIGHTS","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":""},{"name":"end_light","stage":"ALWAYS_ON_LIGHTS","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":"-1"},{"name":"end_light","stage":"ALWAYS_ON_LIGHTS","mirror":true,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"","blacklisted_cars":"1"},{"name":"head_light","stage":"ALWAYS_ON_LIGHTS","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"1","blacklisted_cars":"%1"},{"name":"head_light","stage":"ALWAYS_ON_LIGHTS","mirror":true,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"ALL","positions":[[0,0]],"whitelisted_cars":"-1","blacklisted_cars":"%1"},{"name":"head_light_front","stage":"ALWAYS_ON_LIGHTS","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"MOVING_FORWARDS","positions":[[0,0]],"whitelisted_cars":"1","blacklisted_cars":"%1"},{"name":"head_light_end","stage":"ALWAYS_ON_LIGHTS","mirror":false,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"MOVING_BACKWARDS","positions":[[0,0]],"whitelisted_cars":"1","blacklisted_cars":"%1"},{"name":"head_light_front","stage":"ALWAYS_ON_LIGHTS","mirror":true,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"MOVING_BACKWARDS","positions":[[0,0]],"whitelisted_cars":"-1","blacklisted_cars":"%1"},{"name":"head_light_end","stage":"ALWAYS_ON_LIGHTS","mirror":true,"skip_rendering_if_too_far":false,"door_offset":"NONE","render_condition":"MOVING_FORWARDS","positions":[[0,0]],"whitelisted_cars":"-1","blacklisted_cars":"%1"}]}
        // {"elements":[],"outliner":[],"resolution":{"width":0,"height":0},"zbxFlag":"dummyBbData.resourceLocation","actualPath":"mtr:01a01/01a01.obj","textureId":"mtr:air","flipV":true,"preloadBbModel":false}
    }
}
